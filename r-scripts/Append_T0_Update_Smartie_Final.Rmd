---
title: "Append_T0_Update_Smartie_Final"
author: "Sander"
date: "3 April 2018"
output: pdf_document
---

```{r Libraries}
library(tidyverse)
```

```{r Data}
SMARTIE <- read_csv(file = "./Private/Final_export_2018-03-29_18-47-59.csv", col_types = cols(.default = "c"))
T0 <- read_csv(file = "G://Mijn Drive/INBOPRJ-10217 - Monitoring exoten ikv EU- verordening IAS  CoÃ¶rdinatie, voorbereiding, implementatie en opvolging/data/SMARTIE/T0 Update/invasive_EU_listed_and_considered_with_joins.csv")
aggregated_checklist <- read_delim("https://raw.githubusercontent.com/inbo/alien-species-checklist/master/data/processed/aggregated-checklist.tsv", 
    "\t", escape_double = FALSE, trim_ws = TRUE)
```
```{r split SMARTIE}
SMARTIE1 <- SMARTIE[0:65299,]
SMARTIE1$aanleverDatum <- as.Date(SMARTIE1$aanleverDatum)
SMARTIE1$coordinateUncertaintyInMeters <- as.numeric(SMARTIE1$coordinateUncertaintyInMeters)
SMARTIE1$date_length <- as.numeric(SMARTIE1$date_length)
SMARTIE1$decimalLatitude <- as.numeric(SMARTIE1$decimalLatitude)
SMARTIE1$decimalLongitude <- as.numeric(SMARTIE1$decimalLongitude)
SMARTIE1$gbifapi_speciesKey <- as.numeric(SMARTIE1$gbifapi_speciesKey)
SMARTIE1$gbifapi_usageKey <- as.numeric(SMARTIE1$gbifapi_usageKey)


SMARTIE2 <- SMARTIE[65300:nrow(SMARTIE),]
SMARTIE3 <- SMARTIE2

SMARTIE3$Fiche_ID <- NA
SMARTIE3$FilenameID <- SMARTIE2$Fiche_ID
SMARTIE3$Modified <- NA
SMARTIE3$ObjectID <- NA
SMARTIE3$ProviderID <- SMARTIE2$FilenameID
SMARTIE3$StateProvince <- NA
SMARTIE3$aanleverDatum <- as.Date(SMARTIE2$Modified)
SMARTIE3$associatedTaxa <- NA
SMARTIE3$basisOfRecord <- NA
SMARTIE3$behavior <- NA
SMARTIE3$canonicalName <- NA
SMARTIE3$collectionCode <- NA
SMARTIE3$collectionID <- NA
SMARTIE3$coordinateUncertaintyInMeters <- as.numeric(SMARTIE2$ObjectID)
SMARTIE3$countryCode <- NA
SMARTIE3$dataGeneralizations <- NA
SMARTIE3$datasetName <- SMARTIE2$gbifapi_status
SMARTIE3$dateIdentified <- NA
SMARTIE3$date_length <- NA
SMARTIE3$decimalLatitude <- SMARTIE2$eventDate
SMARTIE3$decimalLongitude <- SMARTIE2$file_patch
SMARTIE3$establishmentMeans <- NA
SMARTIE3$eventDate <- SMARTIE2$associatedTaxa
SMARTIE3$file_patch <- NA
SMARTIE3$fips <- NA
SMARTIE3$firstAppearance <- SMARTIE2$basisOfRecord
SMARTIE3$gbifapi_matchType <- SMARTIE2$canonicalName
SMARTIE3$gbifapi_rank <-  SMARTIE2$collectionCode
SMARTIE3$gbifapi_scientificName <- SMARTIE2$collectionID
SMARTIE3$gbifapi_species <- SMARTIE2$ifbl
SMARTIE3$gbifapi_speciesKey <- SMARTIE2$countryCode
SMARTIE3$gbifapi_status <- SMARTIE2$dataGeneralizations
SMARTIE3$gbifapi_usageKey <- SMARTIE2$datasetName
SMARTIE3$geodeticDatum <- SMARTIE2$dateIdentified
SMARTIE3$habitat <- NA
SMARTIE3$identificationRemarks <- NA
SMARTIE3$identificationVerificationStatus <- NA #zit wel in brondataset
SMARTIE3$identifiedBy <- NA
SMARTIE3$ifbl <- NA
SMARTIE3$index <- SMARTIE2$decimalLatitude
SMARTIE3$individualCount <- SMARTIE2$decimalLongitude
SMARTIE3$institutionCode <- NA
SMARTIE3$lifeStage <- NA
SMARTIE3$lifestage <- NA
SMARTIE3$locality <- NA
SMARTIE3$locationRemarks <- NA
SMARTIE3$municipality <- NA
SMARTIE3$occurrenceID <- NA
SMARTIE3$occurrenceRemarks <- NA
SMARTIE3$occurrenceStatus <- NA
SMARTIE3$organismsQuantity <- NA
SMARTIE3$organismsQuantityType <- NA
SMARTIE3$ownerOrganization <- SMARTIE2$gbifapi_matchType
SMARTIE3$recordNumber <- NA
SMARTIE3$recordedBy <- NA
SMARTIE3$reproductiveCondition <- NA
SMARTIE3$samplingProtocol <- SMARTIE2$gbifapi_rank
SMARTIE3$scientificName <- NA
SMARTIE3$sex






```


```{r Merge SMARTIE and Checklist}
temp <- SMARTIE
temp$gbifapi_acceptedScientificName <- temp$gbifapi_scientificName
temp$gbifapi_scientificName <- NULL
SMARTIE2 <- merge(x= temp, y = aggregated_checklist, all.X = T)
```

